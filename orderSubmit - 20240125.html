<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>	
		<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black">
		<link rel="stylesheet" href="css/mui.min.css">
		<link rel="stylesheet" href="css/index.css" />
		<link rel="stylesheet" href="css/xiaomi/orderSubmit.css" />
		
		<link rel="stylesheet" href="fonts/font/iconfont.css"/>
	</head>
	<body>
		<div id="offCanvasWrapper" class="mui-off-canvas-wrap mui-draggable mui-slide-in">
			<!--侧滑菜单部分-->
			<aside id="offCanvasSide" class="mui-off-canvas-left mui-transitioning">
				<div id="offCanvasSideScroll" class="mui-scroll-wrapper">
					<div class="mui-scroll">
						<div class="content">
							<div class="closeMenu" id="offCanvasHide"><span class="iconfont icon-menu-line"></span></div>
							<div class="userInfo">
								<div class="avator">
									<div class="avatorImg">
										<img src=""/>
									</div>
									<div class="userName">123</div>
								</div>
								<div class="userMenuList">
									<ul>
										<li class="menuItem"><span class="iconfont icon-exchange-cny-fill"></span><span>我的佣金</span></li>
										<li class="menuItem"><span class="iconfont icon-bill-line"></span><span>我的订单</span></li>
										<li class="menuItem"><span class="iconfont icon-file-user-line"></span><span>我的团队</span></li>
										<li class="menuItem"><span class="iconfont icon-trophy-line"></span><span>我的等级</span></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="logout">
						<span class="iconfont icon-logout-box-r-line"></span>退出登陆
					</div>
				</div>
			</aside>
			<!--主界面部分-->
			<div class="mui-inner-wrap">
				<div class="mui_head_bg">
				</div>	
				<header class="mui-bar mui-bar-nav">
					<a id="offCanvasShow" class="mui-pull-left iconfont icon-menu-line black"></a>
					<a class="mui-action-back mui-btn mui-btn-link mui-pull-right">返回首页</a>
					<h1 class="mui-title">提交订单</h1>
				</header>
				<div id="offCanvasContentScroll" class="mui-content mui-scroll-wrapper">
					<div class="mui-scroll">
					<!-- 选择门店 -->
					<div class="shopChosen">
						<div class="selectShop">
							<div class="selectTitle">
								<div class="title">
									<span class="iconfont icon-shopping-cart-line"></span>
									<span style="display:inline-block;margin-left:5px">到店自提</span>
								</div>
								<div class="selectShopBtn" id="openShopList">
									更换门店
								</div>	
							</div>
							<div class="shopAddress">
								[Oceanía]  Ciudad de México Venustiano Carranza Moctezuma 2a Sección
							</div>
						</div>	
						
					<!-- 内容 -->
					<div class="orderAmount">
						<div class="shopCarList orderList">
							<div class="orderItem">
								<div class="shopCarItem">
									<div class="proImg">
										<img src="images/login-1.png" />
									</div>
									<div class="proInfo">
										<div class="proTitle">
											Redmi Note 12 4GB RAM 128GB ROM Onyx Gray
										</div>
										<div class="props">
											<div class="propItem">
												<span>128GB;Black</span>
								<!-- 				<span class="iconfont icon-arrow-drop-down-fill trans45"></span> -->
											</div>
										</div>
										<div class="priceNum">
											<div class="marketPrice">$4999.00MXN</div>
										</div>
									</div>
								</div>
								<div class="numberBoxes">
									<div class="mui-numbox" data-numbox-min="1" data-numbox-step="1">
									  <!-- "-"按钮，点击可减小当前数值 -->
									  <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
									  <input class="mui-numbox-input" type="number" />
									  <!-- "+"按钮，点击可增大当前数值 -->
									  <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
									</div>
								</div>
							</div>
							<hr>
							<div class="orderItem">
								<div class="shopCarItem">
									<div class="proImg">
										<img src="images/login-1.png" />
									</div>
									<div class="proInfo">
										<div class="proTitle">
											Redmi Note 12 4GB RAM 128GB ROM Onyx Gray
										</div>
										<div class="props">
											<div class="propItem">
												<span>128GB;Black</span>
								<!-- 				<span class="iconfont icon-arrow-drop-down-fill trans45"></span> -->
											</div>
										</div>
										<div class="priceNum">
											<div class="marketPrice">$4999.00MXN</div>
										</div>
									</div>
								</div>
								<div class="numberBoxes">
									<div class="mui-numbox" data-numbox-min="1" data-numbox-step="1">
									  <!-- "-"按钮，点击可减小当前数值 -->
									  <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
									  <input class="mui-numbox-input" type="number" />
									  <!-- "+"按钮，点击可增大当前数值 -->
									  <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
									</div>
								</div>
							</div>
							<hr>
						</div>
						<div class="amountTotal">
							<div class="proNum amountItem">
								<span calss="title">商品数量</span>
								<span class="val">4</span>
							</div>
							<div class="total amountItem">
								<span calss="title">总价</span>
								<span class="val">$1999.00MXN</span>
							</div>
						</div>
					</div>	
						
					</div>
				</div>
				</div>
				<div class="amount">
					<div class="amountCont">
						<div class="amountPrice">
							$1990.00MXN
						</div>
					</div>
					<div class="comfirmBtn">
						生成取货码
					</div>
				</div>
				<!-- off-canvas backdrop -->
				<div class="mui-off-canvas-backdrop"></div>
			</div>
		</div>
	
	<!-- 门店选择弹窗 -->
	<div class="popBox visible" id="storeList">
		<div class="boxshadow">
		</div>
		<div class="popContent">
			<div class="shopContent">
				<div class="topHead">
					<span class="title">更换门店</span>
				</div>
				<div class="mui-scroll-wrapper popBoxContent">
					<div class="mui-scroll">
						<!-- 弹窗内容 -->
						<div class="shopList">
							<div class="listItem active"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span class="storeName">[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span>[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span>[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
							<div class="listItem"><span>[Toreo ]  Estado de México Naucalpan de Juárez Lomas de Sotelo</span><span class="iconfont icon-check-fill"></span></div>
						</div>
					</div>
				</div>
			</div>
			<div class="closeIcon">
				<span class="iconfont icon-close-line"></span>
			</div>
		</div>
	</div>
	</body>
</html>
<script src="js/mui.min.js"></script>
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/fxxt/offcanvas.js"></script>
<script>
	mui.init({
		
	});
	mui.plusReady(function(){
	 
	});
	mui.ready(function(){
	 
	 });
	 
	mui('.popBoxContent').scroll({
		deceleration: 0.0005 //flick 减速系数，系数越大，滚动速度越慢，滚动距离越小，默认值0.0006
	});
	 
	 mui(".props").on("tap",".propItem",function(e){
	 	   document.getElementsByTagName('html')[0].className = "overflow";
	 	   document.getElementById('guige').className="popBox";
		   
	 	   mui('.popscrollContent').scroll().scrollTo(0,0,100);
	 })
	 
	 //规格选择
	 mui('#guige').on("tap","ul li",function(e){
	 	   var siblingsEle = getSiblings(this);
	 	   siblingsEle.forEach((item,index)=>{
	 		   item.className = "";
	 	   })
	 	   this.className = "active";
	 })
	 function getSiblings(element) {
	     var siblings = []; // 存放同级元素的数组
	     if (element.parentNode && element.parentNode.children) {
	         for (var i = 0; i < element.parentNode.children.length; i++) {
	             var child = element.parentNode.children[i];
	             if (child !== element && child.nodeType === 1) {
	                 siblings.push(child);
	             }
	         }
	     }
	     return siblings;
	 }
	 
	 
	 
	 //全选
	 $("#amountRadio").on("click",function(e){
		 console.log(this.checked);
		 if(this.checked){
			 $(".shopCarItem .myCheckbox").prop('checked',true);
			  let checkedNum = $(".shopCarItem .myCheckbox:checked").length;
			 $(".choseAmount").html(checkedNum);
		 }else{
			 $(".shopCarItem .myCheckbox").prop('checked',false);
			 $(".choseAmount").html(0);
		 }
	 })
	 //单选
	 $(".shopCarItem .myCheckbox").on("click",function(e){
		 let checkboxNum = $(".shopCarItem .myCheckbox").length;
		 let checkedNum = $(".shopCarItem .myCheckbox:checked").length;
		 if(checkboxNum == checkedNum){
			 $("#amountRadio").prop('checked',true);
		 }else{
			 $("#amountRadio").prop('checked',false);
		 }
		 $(".choseAmount").html(checkedNum);
	 })
	 
	 document.querySelector('.popBox .closeIcon').onclick = function(){
	 	   document.getElementsByTagName('html')[0].className = "";
	 	   document.getElementById('storeList').className = "popBox visible";
	 }
	 
	 mui('.popBoxContent').on("tap",".listItem",function(){
		 $(".popBoxContent .listItem").removeClass("active");
		 $(this).addClass("active");
		 document.getElementsByTagName('html')[0].className = "";
		 document.getElementById('storeList').className = "popBox visible";
		 var shopAddress = $(this).find(".storeName").html();
		 $(".selectShop .shopAddress").html(shopAddress);
	 })
	 
	 $("#openShopList").on("tap",function(){
		 document.getElementsByTagName('html')[0].className = "overflow";
		 document.getElementById('storeList').className="popBox";
		 var index = $(".popBoxContent .listItem.active").index();
		 mui('.popBoxContent').scroll().scrollTo(0,-77*index,100);
	 })
</script>